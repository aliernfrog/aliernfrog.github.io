import{h as J,i as m,j as ee,g as V,k as re,q as ne,H as fe,v as Y,w as k,x as O,y as F,C as K,z as ae,A as U,B as ie,D as b,E as T,F as y,G as le,I as ue,J as X,m as se,K as B,L as oe,M as te,N as ve,O as de,P,Q,R as z,S as L,T as pe,U as ce,V as _e,W,X as ge,Y as Z,Z as he,_ as Ee}from"./CGgX8oHv.js";function we(e,n){return n}function me(e,n,l){for(var t=[],c=n.length,f,s=n.length,_=0;_<c;_++){let E=n[_];Q(E,()=>{if(f){if(f.pending.delete(E),f.done.add(E),f.pending.size===0){var o=e.outrogroups;q(B(f.done)),o.delete(f),o.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=t.length===0&&l!==null;if(u){var v=l,a=v.parentNode;ce(a),a.append(v),e.items.clear()}q(n,!u)}else f={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(f)}function q(e,n=!0){for(var l=0;l<e.length;l++)_e(e[l],n)}var G;function Ie(e,n,l,t,c,f=null){var s=e,_=new Map,u=(n&Z)!==0;if(u){var v=e;s=m?k(W(v)):v.appendChild(b())}m&&ee();var a=null,E=re(()=>{var i=l();return oe(i)?i:i==null?[]:B(i)}),o,p=!0;function A(){r.fallback=a,Te(r,o,s,n,t),a!==null&&(o.length===0?(a.f&T)===0?P(a):(a.f^=T,M(a,null,s)):Q(a,()=>{a=null}))}var N=J(()=>{o=V(E);var i=o.length;let S=!1;if(m){var x=ne(s)===fe;x!==(i===0)&&(s=Y(),k(s),O(!1),S=!0)}for(var h=new Set,w=ie,H=ue(),g=0;g<i;g+=1){m&&F.nodeType===K&&F.data===ae&&(s=F,S=!0,O(!1));var I=o[g],R=t(I,g),d=p?null:_.get(R);d?(d.v&&U(d.v,I),d.i&&U(d.i,g),H&&w.unskip_effect(d.e)):(d=Ce(_,p?s:G??=b(),I,R,g,c,n,l),p||(d.e.f|=T),_.set(R,d)),h.add(R)}if(i===0&&f&&!a&&(p?a=y(()=>f(s)):(a=y(()=>f(G??=b())),a.f|=T)),i>h.size&&le(),m&&i>0&&k(Y()),!p)if(H){for(const[$,j]of _)h.has($)||w.skip_effect(j.e);w.oncommit(A),w.ondiscard(()=>{})}else A();S&&O(!0),V(E)}),r={effect:N,items:_,outrogroups:null,fallback:a};p=!1,m&&(s=F)}function D(e){for(;e!==null&&(e.f&pe)===0;)e=e.next;return e}function Te(e,n,l,t,c){var f=(t&he)!==0,s=n.length,_=e.items,u=D(e.effect.first),v,a=null,E,o=[],p=[],A,N,r,i;if(f)for(i=0;i<s;i+=1)A=n[i],N=c(A,i),r=_.get(N).e,(r.f&T)===0&&(r.nodes?.a?.measure(),(E??=new Set).add(r));for(i=0;i<s;i+=1){if(A=n[i],N=c(A,i),r=_.get(N).e,e.outrogroups!==null)for(const d of e.outrogroups)d.pending.delete(r),d.done.delete(r);if((r.f&T)!==0)if(r.f^=T,r===u)M(r,null,l);else{var S=a?a.next:u;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),C(e,a,r),C(e,r,S),M(r,S,l),a=r,o=[],p=[],u=D(a.next);continue}if((r.f&z)!==0&&(P(r),f&&(r.nodes?.a?.unfix(),(E??=new Set).delete(r))),r!==u){if(v!==void 0&&v.has(r)){if(o.length<p.length){var x=p[0],h;a=x.prev;var w=o[0],H=o[o.length-1];for(h=0;h<o.length;h+=1)M(o[h],x,l);for(h=0;h<p.length;h+=1)v.delete(p[h]);C(e,w.prev,H.next),C(e,a,w),C(e,H,x),u=x,a=H,i-=1,o=[],p=[]}else v.delete(r),M(r,u,l),C(e,r.prev,r.next),C(e,r,a===null?e.effect.first:a.next),C(e,a,r),a=r;continue}for(o=[],p=[];u!==null&&u!==r;)(v??=new Set).add(u),p.push(u),u=D(u.next);if(u===null)continue}(r.f&T)===0&&o.push(r),a=r,u=D(r.next)}if(e.outrogroups!==null){for(const d of e.outrogroups)d.pending.size===0&&(q(B(d.done)),e.outrogroups?.delete(d));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||v!==void 0){var g=[];if(v!==void 0)for(r of v)(r.f&z)===0&&g.push(r);for(;u!==null;)(u.f&z)===0&&u!==e.fallback&&g.push(u),u=D(u.next);var I=g.length;if(I>0){var R=(t&Z)!==0&&s===0?l:null;if(f){for(i=0;i<I;i+=1)g[i].nodes?.a?.measure();for(i=0;i<I;i+=1)g[i].nodes?.a?.fix()}me(e,g,R)}}f&&ge(()=>{if(E!==void 0)for(r of E)r.nodes?.a?.apply()})}function Ce(e,n,l,t,c,f,s,_){var u=(s&te)!==0?(s&ve)===0?se(l,!1,!1):X(l):null,v=(s&de)!==0?X(c):null;return{v:u,i:v,e:y(()=>(f(n,u??l,v??c,_),()=>{e.delete(t)}))}}function M(e,n,l){if(e.nodes)for(var t=e.nodes.start,c=e.nodes.end,f=n&&(n.f&T)===0?n.nodes.start:l;t!==null;){var s=L(t);if(f.before(t),t===c)return;t=s}}function C(e,n,l){n===null?e.effect.first=l:n.next=l,l===null?e.effect.last=n:l.prev=n}function Ne(e,n){let l=null,t=m;var c;if(m){l=F;for(var f=W(document.head);f!==null&&(f.nodeType!==K||f.data!==e);)f=L(f);if(f===null)O(!1);else{var s=L(f);f.remove(),k(s)}}m||(c=document.head.appendChild(b()));try{J(()=>n(c),Ee)}finally{t&&(O(!0),k(l))}}export{Ie as e,Ne as h,we as i};
