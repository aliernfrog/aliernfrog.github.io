<!DOCTYPE html>
<html>
  <head>
    <title>aliernfrog</title>
    <meta name="og:title" content="aliernfrog"/>
    <meta name="og:description" content="Home page of aliernfrog website"/>
    <meta name="og:image" content="/assets/images/aliernfrog.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
  </head>
  <body style="background-color:black;">
    <div id="topbar" style="text-align:center;">
      <img src="/assets/images/aliernfrog.png" alt="aliernfrog" style="width:64px;height:64px;">
      <h1 id="header">aliernfrog</h1>
      <p1 id="description">Please wait..</p1>
    </div><br>

    <div id="highlights" style="text-align:center;"></div><br>

    <div id="socials" style="text-align:center;"></div>
    
    <script>
      function onConfigLoaded() {
        getWelcomeMessage();
        getSocials(document.getElementById("socials"));
        loadProjects();
        loadDesign();
      }

      function getWelcomeMessage() {
        let view = document.getElementById("description");
        if (config.welcomeWarning) {
          view.innerHTML = config.welcomeWarning;
        } else {
          view.innerHTML = randomize(config.welcomeMessages);
        }
      }

      function loadDesign() {
        document.body.style.background = config.colorBody;
        document.body.style.fontFamily = config.font;
        setBgRounded(document.getElementById("topbar"), config.colorBgPrimary, false);
        document.getElementById("header").style.color = config.colorText;
        document.getElementById("description").style.color = config.colorText;
        setBgRounded(document.getElementById("highlights"), config.colorBgPrimary, false);
        document.getElementById("highlights").style.color = config.colorText;
        setBgRounded(document.getElementById("socials"), config.colorBgPrimary, false);
        setLinkColors(config.colorLink, []);
      }

      function loadProjects() {
        fetch("/assets/values/projects.json").then(async response => {
          const projects = await response.json();
          const highlights = [];
          for (i = 0; i < projects.length; i++) {
            const project = projects[i];
            highlights.push([
              `<a href="/${project._id}/" style="text-decoration:none;text-align:left;">`,
              `<div id="${project._id}" style="color:${config.colorText};">`,
              `<div style="margin-bottom:8px;">`,
              `<img src="${project.icon}" style="width:40px;height:40px;vertical-align:middle;margin-right:8px;">`,
              `<p1 style="vertical-align:middle;"><font size="5px"><b>${project.name}</b></font></p1>`,
              `</div>`,
              `<p1 style="opacity:70%;">${project.description}</p1>`,
              `</div></a>`
            ].join(""));
          }
          document.getElementById("highlights").innerHTML = "<h2>Highlights</h2>"+highlights.join("");
          setDivs(document.getElementById("highlights"));
        });
      }

      function setDivs(parent) {
        let divs = parent.getElementsByTagName("div");
        for (i = 0; i < divs.length; i++) {
          const div = divs[i];
          if (div.id) setBgRounded(div, config.colorBgSecondary, true);
        }
      }
    </script>
    <script src="/assets/utils/GeneralUtil.js"></script>
  </body>
</html>